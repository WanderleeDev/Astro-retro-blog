---
import BaseLayout from "../layouts/BaseLayout.astro"
//  components
import BlogCard  from '../shared/BlogCard/BlogCard.astro'
import  {Debug} from 'astro:components'

const pageTitle ="Blog";
const postList = await Astro.glob("../pages/posts/*.md")
---

<BaseLayout pageTitle={pageTitle}>
  <Debug {postList}/>
  <h1>
    {pageTitle}
  </h1>
  
  <ul>
    {
      postList.map((post) => (
        <li>
          <BlogCard  
            image={post.frontmatter.image.url}
            description={post.frontmatter.description}
            title={post.frontmatter.title}
            url={post.url ?? '/'}
            color={post.frontmatter.color}
          />
        </li>
      ))
    }
  </ul>

</BaseLayout>
